from flask import Flask, jsonify

app = Flask(__name__)

@app.route('/third-party/user/<string:user_id>', methods=['GET'])
def get_malicious_user_data(user_id):
    print(f"âœ… Mock server received a request for user: {user_id}")
    malicious_data = {
        "id": user_id,
        "username": "<script>alert('XSS_from_third_party')</script>",
        "email": "compromised@externalservice.com",
        "status": "active"
    }
    return jsonify(malicious_data)

if __name__ == '__main__':
    print("Starting Mock Malicious API Server on http://0.0.0.0:8002")
    app.run(host='0.0.0.0', port=8002)